language: node_js
sudo: false
node_js:
  - 6.4
# NodeJS v4 requires gcc 4.8
env:
  - NODE_ENV=travis CXX="g++-4.8" CC="gcc-4.8"

#matrix:
  #allow_failures:
    #- node_js: 5

#services:
  #- mongodb
# gcc 4.8 requires ubuntu-toolchain-r-test

addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
    - gcc-4.8
    - clang

before_install:
  - npm i nsp -g
  - npm install gulpjs/gulp-cli -g

after_script:
  - nsp audit-package
  - npm run coverage

notifications:
  webhooks:
    urls:
      secure: "jYJs0uvy8WXSZXrxcXa7CtKGa6vfXfvgP3s91NoL9dwNDBs2KhJmU6D+6YEVIRzxzJYQt65S2krKhCuzdYpmAgoEeULjz1UjSp5rrZgeyzjs3zx1PKyEXVEFDtu9AL4Ey0dOb6SMpT3joAP3GxOoRMsPK7f9MFYoWzaReyRSFDqYmtW81EsvhbETW8Y8fE+1WZjzm46bSMAfcgvj2T4qxUWkdQVS5cXlC1sn3imzKyU4OJ77F5pJf8WRwyxWE4AlCSvqmUkCXVlzaDZrOQ6pn3Hlb0MTCHqq1F/dlXnaXwXLDyfZUv299qSsf+hzfNwTzKc4G7V3OYgUJ9ihq25HXbh7K6WYfSQheCpLbloa2uMS2fl9QsxmuJKI7ecGNcaqU6dW3DnaxGw89u8+KVr9F+pifAex6d7dpv2VUG637x6qA0PJ6sBFbUBycda57EUdNCwaGSg6W46uZV6IL8FNJbHtlXEiW7+o+/Ednh2GjNmHNmeyzQpjA4QoxK3Xsv2B10CXlW5/3Mw0xYWpMdc8dqJzVb8Aj6kUeJiLnA/cVpwv24WnGq05ZG9McmyWR5rYLfpH1iQZzpKsgGN6R0pBzJ2FYnaREITlMHZzr3lZ5/SWxyBmkMYCfe1QZTOFmSBF0bDbXSdGAbCnsUFoDjf2Pc8g0utwd90uMtpjXp+Lh1E="

    on_success: change  # options: [always|never|change] default: always
    on_failure: always  # options: [always|never|change] default: always
    on_start: never     # options: [always|never|change] default: always
